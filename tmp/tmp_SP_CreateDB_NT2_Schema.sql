CREATE DEFINER=`covmo`@`%` PROCEDURE `SP_CreateDB_NT2_Schema`(IN GT_DB VARCHAR(100))
BEGIN
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_ANTENNA_UMTS` (
	`RNC_ID` MEDIUMINT(9),
	`CELL_ID` MEDIUMINT(9),
	`ANTENNA_ID` SMALLINT,
	`CELL_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`LONGITUDE` FLOAT(9,6),
	`LATITUDE` FLOAT(9,6),
	`AZIMUTH` SMALLINT(6),
	`ANTENNA_HEIGHT` FLOAT(9,2),
	`CPICH_POWER` FLOAT(7,2),
	`FEEDER_LOSS` FLOAT(7,2),
	`EIRP` FLOAT(7,2),
	`ANTENNA_MODEL` VARCHAR(50) CHARACTER SET UTF8,
	`ANTENNA_TYPE` TINYINT,
	`ANTENNA_GAIN` FLOAT(7,2),
	`BEAMWIDTH_H` SMALLINT(6),
	`BEAMWIDTH_V` SMALLINT(6),
	`DOWNTILT_EL` SMALLINT(6),
	`DOWNTILT_MEC` SMALLINT(6),
	`ELEVATION` FLOAT(7,2),
	`REPEATER_IND` TINYINT(1),
	`REPEATER_TYPE` VARCHAR(50) CHARACTER SET UTF8,
	`REPEATER_DELAY` TINYINT(4),
	`FIELD_TYPE` TINYINT(1),
	`PATHLOSS_DISTANCE` FLOAT(9,2),
	`ANTENNA_RADIUS` FLOAT(9,2),
	`CLOSED_RADIUS` FLOAT(9,2),
	`FLAG` INT(11),
	`PATHLOSS_360` TEXT,
	`ANTENNA_RADIUS_360` TEXT,
	KEY `PRIMARY KEY` (`RNC_ID`,`CELL_ID`,`ANTENNA_ID`),
	KEY `ID_KEY` (`RNC_ID`,`CELL_ID`),
	KEY `RNC_ID` (`RNC_ID`,`CELL_ID`),
	KEY `ANTENNA_MODEL`( `ANTENNA_MODEL`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_ANTENNA_UMTS_DUMP` LIKE ',GT_DB,'.NT2_ANTENNA_UMTS;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_CELL_ATTRIBUTE_EXT_UMTS` (
	`RNC_ID` MEDIUMINT(9),
	`CELL_ID` MEDIUMINT(9),
	`NUMHSCODE` SMALLINT(6),
	`HSUPA_ACT` CHAR(1),
	`HSUDPA_ACT` CHAR(1),
	KEY `PRIMARY KEY` (`RNC_ID`,`CELL_ID`,`NUMHSCODE`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_CELL_ATTRIBUTE_UMTS` (
	`CELL_ID` MEDIUMINT(9),
	`CELL_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`RNC_ID` MEDIUMINT(9),
	`ATTRIBUTE_NAME` VARCHAR(256) CHARACTER SET UTF8,
	`ATTRIBUTIE_VALUE` TEXT,
	`TYPE` VARCHAR(100) CHARACTER SET UTF8,
	`VENDOR` TINYINT,
	`P_VALID` TINYINT,
	KEY `PRIMARY KEY` (`CELL_ID`,`CELL_NAME`,`RNC_ID`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_CELL_UMTS` (
	`RNC_ID` MEDIUMINT(9),
	`LAC` MEDIUMINT(9),
	`RAC` SMALLINT(6),
	`SITE_ID` VARCHAR(20) CHARACTER SET UTF8,
	`SITE_NAME` varchar(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`CELL_ID` MEDIUMINT(9),
	`CELL_NAME` varchar(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`SECTOR_ID` TINYINT(4),
	`FREQUENCY` SMALLINT(6),
	`DL_UARFCN` MEDIUMINT(9),
	`PSC` SMALLINT(6),
	`LONGITUDE` FLOAT(9,6),
	`LATITUDE` FLOAT(9,6),
	`INDOOR` TINYINT(4),
	`SITE_TYPE` VARCHAR(20) CHARACTER SET UTF8,
	`SITE_CAPACITY` VARCHAR(20) CHARACTER SET UTF8,
	`CELL_RADIUS` SMALLINT(6),
	`CLUSTER` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`REGION` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`SUB_REGION` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`ZONE` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`MORPHOLOGY` VARCHAR(20) CHARACTER SET UTF8,
	`ACTIVE_STATE` VARCHAR(30) CHARACTER SET UTF8,
	`CM_ADMIN_STATE` TINYINT(4),
	`CM_OPERATION_STATE` TINYINT(4),
	`VENDOR_SITE_INDEX` MEDIUMINT(9),
	`VENDOR_SITE_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`VENDOR_CELL_INDEX` VARCHAR(50) CHARACTER SET UTF8,
	`CLUSTER_ID` MEDIUMINT(9),
	`INA_FREQ_NBCNT` SMALLINT(6),
	`INT_FREQ_NBCNT` SMALLINT(6),
	`GSM_NBCNT` SMALLINT(6),
	`NBR_DISTANCE_CM` FLOAT(9,2),
	`NBR_DISTANCE_CM_MAX` FLOAT(9,2),
	`NBR_DISTANCE_VORONOI` FLOAT(9,2),
	`NBR_DISTANCE_VORONOI_MAX` FLOAT(9,2),
	`SITE_DENSITY_TYPE` TINYINT(4),
	`FLAG` INT(11),
	SERVING_TYPE TINYINT(4),
	KEY `PRIMARY KEY` (`RNC_ID`,`LAC`,`RAC`),
	KEY `NEWINDEX2` (`RNC_ID`,`CELL_ID`),
	KEY `CLUSTER_NAME` (`CLUSTER`),
	KEY `IX_INDOOR` (`INDOOR`),
	KEY `IX_IDX1` (`SITE_ID`,`RNC_ID`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_CELL_UMTS_DUMP` LIKE ',GT_DB,'.NT2_CELL_UMTS;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_NBR_3_2_UMTS` (
	`RNC_ID` MEDIUMINT,
	`CELL_ID` MEDIUMINT,
	`NBR_BSC_ID` MEDIUMINT,
	`NBR_BSC_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`NBR_LAC` MEDIUMINT,
	`NBR_CELL_ID` MEDIUMINT,
	`NBR_CELL_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`PRIORITY` TINYINT,
	`NBR_BCCH_ARFCN` MEDIUMINT,
	`NBR_BSIC` TINYINT(4) UNSIGNED,
	`NBR_DISTANCE` FLOAT(9,2),
	`NBR_ANGLE` SMALLINT(6),
	`NBR_AZIMUTH_ANGLE` SMALLINT(6),
	KEY `PRIMARY KEY` (`RNC_ID`,`CELL_ID`,`NBR_BSC_ID`, `NBR_CELL_ID`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_NBR_3_2_UMTS_DUMP` LIKE ',GT_DB,'.NT2_NBR_3_2_UMTS;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_NBR_3_3_UMTS` (
	`RNC_ID` MEDIUMINT,
	`CELL_ID` MEDIUMINT,
	`NBR_RNC_ID` MEDIUMINT,
	`NBR_RNC_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`NBR_CELL_ID` MEDIUMINT,
	`NBR_CELL_NAME` VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_swedish_ci DEFAULT NULL,
	`PRIORITY` TINYINT,
	`NBR_TYPE` TINYINT,
	`NBR_UARFCN` MEDIUMINT,
	`NBR_PSC` SMALLINT(6),
	`NBR_DISTANCE` FLOAT(9,2),
	`NBR_ANGLE` SMALLINT(6),
	`NBR_AZIMUTH_ANGLE` SMALLINT(6),
	KEY `PRIMARY KEY` (`RNC_ID`,`CELL_ID`,`NBR_RNC_ID`,`NBR_CELL_ID`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_NBR_3_3_UMTS_DUMP` LIKE ',GT_DB,'.NT2_NBR_3_3_UMTS;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_RNC` (
	`RNC_ID` MEDIUMINT,
	`RNC_NAME` VARCHAR(50) CHARACTER SET UTF8,
	`MCC` VARCHAR(3) CHARACTER SET UTF8,
	`MNC` VARCHAR(3) CHARACTER SET UTF8,
	`VENDOR` VARCHAR(30) CHARACTER SET UTF8,
	`RNC_MODEL` VARCHAR(30) CHARACTER SET UTF8,
	`SITE_CNT` SMALLINT(6) UNSIGNED ,
	`CELL_CNT` SMALLINT(6) UNSIGNED ,
	`NBR_DISTANCE_VORONOI` FLOAT(9,2),
	`NBR_DISTANCE_CM` FLOAT(9,2),
	KEY `PRIMARY KEY` (`RNC_ID`,`RNC_NAME`,`MCC`)
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE IF NOT EXISTS ',GT_DB,'.`nt2_log_umts` (
	`ID` MEDIUMINT(9) DEFAULT NULL,
	`CELL_ID` MEDIUMINT(9) DEFAULT NULL,
	`TBL_NAME` VARCHAR(50) DEFAULT NULL,
	`COL_NAME` VARCHAR(50) DEFAULT NULL,
	`LOG_TYPE` TINYINT(4) DEFAULT NULL,
	`DUMP_LOG` VARCHAR(100) DEFAULT NULL
	) ENGINE=MYISAM DEFAULT CHARSET=UTF8 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt; 
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`nt2_nbr_voronoi_umts`(
	`RNC_ID` MEDIUMINT(9),
	`SITE_ID` VARCHAR(20) CHARACTER SET UTF8 DEFAULT NULL,
	`NBR_RNC_ID` MEDIUMINT(9),
	`NBR_SITE_ID` VARCHAR(20) DEFAULT NULL,
	`ANGLE` DOUBLE DEFAULT NULL,
	`DISTANCE` DOUBLE DEFAULT NULL,	
	`INDOOR_TYPE` TINYINT(4) DEFAULT NULL,
	`SITEDENSITY_RANGE` INT(11) DEFAULT NULL,
	`REFINE_DISTANCE` FLOAT DEFAULT NULL,
	KEY `RNC_ID_IDX` (`RNC_ID`,`NBR_RNC_ID`)
	) ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1
	;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt; 
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_CLUSTER_UMTS` (
	`CLUSTER_ID` SMALLINT(6) NOT NULL,
	`CLUSTER_NAME` VARCHAR(100) NOT NULL,
	`ENABLED` TINYINT(1) DEFAULT ''1'',
	PRIMARY KEY (`CLUSTER_ID`)
	)ENGINE=MYISAM DEFAULT CHARSET=UTF8 ');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt; 
	
	SET @SqlCmd=CONCAT('CREATE TABLE IF NOT EXISTS ',GT_DB,'.`opt_sco_result` (
	`RNC_ID` INT(11) DEFAULT NULL,
	`CELL_ID` INT(11) DEFAULT NULL,
	`SOURCE_CELL_NAME` VARCHAR(50) CHARACTER SET UTF8 DEFAULT NULL,
	`LONGITUDE` DOUBLE DEFAULT NULL,
	`LATITUDE` DOUBLE DEFAULT NULL,
	`PSC` SMALLINT(6) DEFAULT NULL,
	`NBR_RNC_ID` INT(11) DEFAULT NULL,
	`NBR_CELL_ID` INT(11) DEFAULT NULL,
	`TARGET_CELL_NAME` VARCHAR(50) CHARACTER SET UTF8 DEFAULT NULL,
	`DISTANCE` DOUBLE DEFAULT NULL,
	`DEPTH` SMALLINT(6) DEFAULT NULL,
	`DIS_TILE_CNT` MEDIUMINT(9) DEFAULT ''0'',
	`UNI_TILE_CNT` MEDIUMINT(9) DEFAULT ''0'',
	`DEPTH_1_CELL` INT(11) DEFAULT NULL,
	`DEPTH_1_RNC` INT(11) DEFAULT NULL,
	`DEPTH_2_CELL` INT(11) DEFAULT NULL,
	`DEPTH_2_RNC` INT(11) DEFAULT NULL
	) ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt; 	
		
	SET @SqlCmd=CONCAT('CREATE TABLE IF NOT EXISTS ',GT_DB,'.`opt_sco_suggest` (
	`RNC_ID` INT(11) DEFAULT NULL,
	`CELL_ID` INT(11) DEFAULT NULL,
	`NBR_RNC_ID` INT(11) DEFAULT NULL,
	`NBR_CELL_ID` INT(11) DEFAULT NULL,
	`PSC_SUGGEST` SMALLINT(6) DEFAULT NULL,
	`DISTANCE` DOUBLE DEFAULT NULL,
	`PSC_DEPTH` SMALLINT(6) DEFAULT NULL,
	`PSC_RNC_ID` VARCHAR(64) DEFAULT NULL,
	`PSC_CELL_ID` VARCHAR(64) DEFAULT NULL,
	`SUGGEST_ORDER` INT(11) DEFAULT NULL
	) ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt; 
	
	SET @SqlCmd=CONCAT('CREATE TABLE ',GT_DB,'.`NT2_RULE_NBR_UMTS` (
	`VENDORID` VARCHAR(20) DEFAULT NULL,
	`SOURCEFREQ` SMALLINT(6) DEFAULT NULL,
	`SOURCEUARFCN` MEDIUMINT(9) DEFAULT NULL,
	`TARGETFREQ` SMALLINT(6) DEFAULT NULL,
	`TARGETUARFCN` MEDIUMINT(9) DEFAULT NULL,
	`COSECTOR` SMALLINT(6) DEFAULT NULL,
	`NBRTYPE` TINYINT(4) DEFAULT NULL,
	`ALLOWED` TINYINT(4) DEFAULT NULL,
	`MINNBRCNT` SMALLINT(6) DEFAULT NULL,
	`MAXNBRCNT` SMALLINT(6) DEFAULT NULL,
	`SUPPORTFLAG` TINYINT(4) DEFAULT NULL,
	`BORDER_NBRCNT` SMALLINT(6) DEFAULT NULL,
	`SIB` TINYINT(4) DEFAULT NULL,
	PRIMARY KEY (`VENDORID`)
	) ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE IF NOT EXISTS ',GT_DB,'.`NT2_CELL_POLYGON_UMTS` (
	`RNC_ID` MEDIUMINT(9) DEFAULT NULL,
	`SITE_ID` MEDIUMINT(9) DEFAULT NULL,
	`CELL_ID` MEDIUMINT(9) DEFAULT NULL,
	POLYGON_STR LONGTEXT CHARACTER SET UTF8 DEFAULT NULL,
	MAPPING_TYPE TINYINT(4) DEFAULT NULL,
	KEY CELL_POLYGON_UMTS_IDX (`RNC_ID`,`SITE_ID`,`CELL_ID`)
	) ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	SET @SqlCmd=CONCAT('CREATE TABLE IF NOT EXISTS ',GT_DB,'.`NT2_ANTENNA_INFO` (
	`ANTENNA_MODEL` VARCHAR(100) CHARACTER SET UTF8,
	`ANTENNA_TYPE` TINYINT(4),
	`GAIN_DBI` FLOAT,
	`DEVIATION` SMALLINT(6) DEFAULT 0,
	`HBW3` SMALLINT(6),
	`HBW3_CL` SMALLINT(6),
	`HBW3_CW` SMALLINT(6),
	`VBW3` SMALLINT(6),
	`VBW3_CL` SMALLINT(6),
	`VBW3_CW` SMALLINT(6),
	`HORIZONTAL_360` TEXT,
	`VERTICAL_360` TEXT,
	`ANTENNA_GROUP` VARCHAR(50) CHARACTER SET UTF8,
	`ELECTRICAL_TILT` FLOAT,
	`MECHANICAL_TILT` FLOAT,
	`CATEGORIZE` VARCHAR(50) CHARACTER SET UTF8,
	`MANUFACTURER` VARCHAR(50) CHARACTER SET UTF8,
	`TILT_TYPE` VARCHAR(20) CHARACTER SET UTF8,
	`FREQUENCY` VARCHAR(20) CHARACTER SET UTF8,
	`COMMENTS` VARCHAR(100) CHARACTER SET UTF8
	)ENGINE=MYISAM DEFAULT CHARSET=LATIN1 DELAY_KEY_WRITE=1;');
	PREPARE Stmt FROM @SqlCmd;
	EXECUTE Stmt;
	DEALLOCATE PREPARE Stmt;
	
	CALL gt_gw_main.SP_Sub_Generate_Sys_Config(GT_DB,'gt_covmo','umts');
